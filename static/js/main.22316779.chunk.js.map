{"version":3,"sources":["components/Alert.js","components/HowTo.js","components/Spinner.js","Form.js","components/Logos.js","components/Intro.js","App.js","index.js"],"names":["Container","styled","div","Alert","props","text","SwiperCore","use","Navigation","Pagination","STEPS","id","Title","h1","HowTo","slidesPerView","setWrapperSize","navigation","pagination","clickable","style","width","height","map","step","index","src","alt","Spinner","defaultOptions","loop","autoplay","animationData","require","rendererSettings","preserveAspectRatio","options","FormWrapper","DownloadButton","button","Form","queryParams","URLSearchParams","window","location","search","useState","clientId","clientSecret","environment","apiType","get","otherUrl","formData","setFormData","DEFAULT_ERROR_TEXT","loading","setLoading","hasDownloadStarted","setHasDownloadStarted","hasError","setHasError","errorText","setErrorText","PUBLIQ_STOPLIGHT_SCHEME","UDB_ENTRY_SCHEME_URL","UITPAS_API_SCHEME_URL","handleSubmit","a","startsWith","scheme","auth","tokenGrantType","convert","postmanCollectionJson","apiName","info","name","document","createElement","file","Blob","JSON","stringify","type","href","URL","createObjectURL","download","click","onDownloadCompleted","console","log","resetError","className","placeholder","value","onChange","e","target","htmlFor","disabled","onClick","Logos","Paragraph","p","Intro","rel","GlobalStyle","createGlobalStyle","App","hideIntro","setHideIntro","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.22316779.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst Container = styled.div`\n  padding: 15px;\n  background-color: #f2dede;\n  border: 1px solid #ebccd1;\n  color: #a94442;\n  margin-bottom: 2rem;\n  width: 500px;\n`;\n\nconst Alert = (props) => {\n  return <Container>{props.text}</Container>;\n};\n\nexport { Alert };\n","// Core modules imports are same as usual\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.min.css';\nimport 'swiper/swiper.min.css';\n\nimport SwiperCore, { Navigation, Pagination } from 'swiper';\nimport styled from 'styled-components';\nSwiperCore.use([Navigation, Pagination]);\n\nconst STEPS = [\n  {\n    id: 1,\n    text: 'Start by clicking the \"Import\" button in Postman.',\n  },\n  {\n    id: 2,\n    text: 'Drag and drop or select the JSON file you downloaded. Postman should show an overview of the included API. Click \"Import\" to continue.',\n  },\n  {\n    id: 3,\n    text: 'After the collection has been imported, click on the button with three dots next to its name. Next, click the \"Edit\" button in the drop-down menu that appears.',\n  },\n  {\n    id: 4,\n    text: 'Make sure the \"Auth\" tab of the collection is active. Scroll all the way to the bottom of the \"Auth\" tab, and click \"Get New Access Token\".',\n  },\n  {\n    id: 5,\n    text: 'Wait for the success modal to close or click the \"Proceed\" button.',\n  },\n  {\n    id: 6,\n    text: 'A modal to manage your tokens should appear, with a detail view of the new token. Click \"Use Token\". You are now ready to start making requests! If your token expires, follow the steps to get new access token again.',\n  },\n];\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nconst Title = styled.h1`\n  font-size: 3rem;\n  margin-bottom: 0;\n  text-align: center;\n`;\n\nconst HowTo = (props) => {\n  return (\n    <Container>\n      <Title>Installation guide</Title>\n      <Swiper\n        slidesPerView={1}\n        setWrapperSize={800}\n        navigation\n        pagination={{ clickable: true }}\n        style={{ width: '800px', height: '450px' }}\n      >\n        {STEPS.map((step, index) => (\n          <SwiperSlide key={`step_${index}`}>\n            <img\n              src={`/postman-step-${step.id}.png`}\n              alt={`postman download step ${step.id}`}\n              width={700}\n            />\n            <p>\n              {`${step.id}.`} {step.text}\n            </p>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n    </Container>\n  );\n};\n\nexport { HowTo };\n","import Lottie from 'react-lottie';\n\nconst Spinner = (props) => {\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: require('../animations/spinner.json'),\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice',\n    },\n  };\n\n  return <Lottie options={defaultOptions} height={50} width={50} />;\n};\n\nexport { Spinner };\n","import convert from '@publiqbe/openapi2postman';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Alert } from './components/Alert';\nimport { HowTo } from './components/HowTo';\nimport { Spinner } from './components/Spinner';\n\nconst FormWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 300px;\n`;\n\nconst DownloadButton = styled.button`\n  height: 50px;\n`;\n\nconst Form = (props) => {\n  const queryParams = new URLSearchParams(window.location.search);\n\n  const [formData, setFormData] = useState({\n    clientId: '',\n    clientSecret: '',\n    environment: '',\n    apiType: queryParams.get('api') ?? '',\n    otherUrl: '',\n  });\n\n  const DEFAULT_ERROR_TEXT = 'Something went wrong, please try again later';\n\n  const [loading, setLoading] = useState(false);\n  const [hasDownloadStarted, setHasDownloadStarted] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [errorText, setErrorText] = useState(DEFAULT_ERROR_TEXT);\n\n  const PUBLIQ_STOPLIGHT_SCHEME =\n    'https://stoplight.io/api/v1/projects/publiq/';\n  const UDB_ENTRY_SCHEME_URL = `${PUBLIQ_STOPLIGHT_SCHEME}uitdatabank/nodes/reference/entry.json?deref=optimizedBundle`;\n  const UITPAS_API_SCHEME_URL = `${PUBLIQ_STOPLIGHT_SCHEME}uitpas/nodes/reference/UiTPAS.v2.json?deref=optimizedBundle`;\n\n  const handleSubmit = async () => {\n    if (\n      formData.apiType === 'other' &&\n      !formData.otherUrl.startsWith(PUBLIQ_STOPLIGHT_SCHEME)\n    ) {\n      setHasError(true);\n      setErrorText(`API URL should start with ${PUBLIQ_STOPLIGHT_SCHEME}`);\n      return;\n    }\n\n    if (formData.apiType === '') {\n      setHasError(true);\n      setErrorText(`Please select an API from the list`);\n      return;\n    }\n\n    let scheme;\n    switch (formData.apiType) {\n      case 'udb-entry':\n        scheme = UDB_ENTRY_SCHEME_URL;\n        break;\n      case 'uitpas-api':\n        scheme = UITPAS_API_SCHEME_URL;\n        break;\n      case 'other':\n        scheme = formData.otherUrl;\n        break;\n      default:\n        scheme = UDB_ENTRY_SCHEME_URL;\n    }\n    const environment = 'test';\n    const baseUrl = '';\n    const auth = {\n      tokenGrantType: 'client_credentials',\n      clientId: formData.clientId,\n      clientSecret: formData.clientSecret,\n    };\n    try {\n      setLoading(true);\n      const postmanCollectionJson = await convert(\n        scheme,\n        environment,\n        baseUrl,\n        auth,\n      );\n      const apiName = postmanCollectionJson.info.name || 'postman-collection';\n      const a = document.createElement('a');\n      const file = new Blob([JSON.stringify(postmanCollectionJson)], {\n        type: 'text/plain',\n      });\n      a.href = URL.createObjectURL(file);\n      a.download = apiName + '.json';\n      a.click();\n      setHasDownloadStarted(true);\n      props.onDownloadCompleted(true);\n    } catch (err) {\n      console.log(err);\n      setHasError(true);\n      setErrorText(DEFAULT_ERROR_TEXT);\n    }\n    setLoading(false);\n  };\n\n  const resetError = () => {\n    setHasError(false);\n    setErrorText('');\n  };\n\n  return (\n    <>\n      {hasError && <Alert text={errorText} />}\n      {loading ? (\n        <Spinner />\n      ) : (\n        <>\n          {hasDownloadStarted ? (\n            <HowTo />\n          ) : (\n            <FormWrapper key=\"form-wrapper\">\n              <div>\n                <input\n                  className=\"u-full-width\"\n                  type=\"text\"\n                  placeholder=\"client id (test environment)\"\n                  value={formData.clientId}\n                  onChange={(e) => {\n                    setFormData({ ...formData, clientId: e.target.value });\n                    resetError();\n                  }}\n                />\n              </div>\n              <div>\n                <input\n                  type=\"password\"\n                  className=\"u-full-width\"\n                  placeholder=\"client secret\"\n                  value={formData.clientSecret}\n                  onChange={(e) => {\n                    setFormData({ ...formData, clientSecret: e.target.value });\n                    resetError();\n                  }}\n                />\n              </div>\n              <div>\n                <label htmlFor=\"apiType\">API</label>\n                <select\n                  className=\"u-full-width\"\n                  value={formData.apiType}\n                  onChange={(e) => {\n                    setFormData({ ...formData, apiType: e.target.value });\n                    resetError();\n                  }}\n                  id=\"apiType\"\n                >\n                  <option value=\"\" disabled>\n                    Select API\n                  </option>\n                  <option value=\"udb-entry\">UiTdatabank Entry API</option>\n                  <option value=\"uitpas-api\">UiTPAS API</option>\n                  <option value=\"other\">Other...</option>\n                </select>\n              </div>\n              {formData.apiType === 'other' && (\n                <div>\n                  <input\n                    className=\"u-full-width\"\n                    type=\"text\"\n                    placeholder=\"url\"\n                    value={formData.otherUrl}\n                    onChange={(e) => {\n                      setFormData({ ...formData, otherUrl: e.target.value });\n                      resetError();\n                    }}\n                  />\n                </div>\n              )}\n              <DownloadButton onClick={handleSubmit} className=\"button-primary\">\n                Download\n              </DownloadButton>\n            </FormWrapper>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport { Form };\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 250px;\n  margin: 5rem 0 2.5rem 0;\n`;\n\nconst Logos = (props) => {\n  return (\n    <Container>\n      <img\n        src=\"https://postman.publiq.be/publiq-logo.png\"\n        alt=\"publiq logo\"\n        width=\"130\"\n      />\n      <img\n        src=\"https://postman.publiq.be/postman-logo.png\"\n        alt=\"postman logo\"\n        width=\"100\"\n      />\n    </Container>\n  );\n};\n\nexport { Logos };\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  max-width: 500px;\n  background-color: #efefef;\n  padding: 15px 15px 0 15px;\n  border-radius: 5px;\n  margin-bottom: 2.5rem;\n`;\n\nconst Paragraph = styled.p`\n  margin-bottom: 15px;\n`;\n\nconst Intro = (props) => {\n  return (\n    <Container>\n      <Paragraph>\n        Ready to start playing around with our APIs? Use the form below to\n        download a personalized{' '}\n        <a href=\"https://www.postman.com/\" target=\"_blank\" rel=\"noreferrer\">\n          Postman\n        </a>{' '}\n        collection and start making API requests to our test environment in a\n        matter of seconds!\n      </Paragraph>\n      <Paragraph>\n        We also provide extensive{' '}\n        <a href=\"https://docs.publiq.be\" target=\"_blank\" rel=\"noreferrer\">\n          API documentation\n        </a>{' '}\n        with how-to guides, a technical reference for each API endpoint, and\n        info about authentication and error handling.\n      </Paragraph>\n    </Container>\n  );\n};\n\nexport { Intro };\n","import { Form } from './Form';\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { createGlobalStyle } from 'styled-components';\nimport { Logos } from './components/Logos';\nimport { Intro } from './components/Intro';\n\nconst GlobalStyle = createGlobalStyle`\n    body {\n      margin: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n    }\n\n    code {\n      font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n        monospace;\n    }   \n\n    p,\n    input,\n    select,\n    button {\n      font-size: 1.5rem;\n    } \n\n    .swiper-slide {\n      text-align: center;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      width: 700px;\n    }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  flex-wrap: wrap;\n`;\n\nexport default function App() {\n  const [hideIntro, setHideIntro] = useState(false);\n\n  return (\n    <>\n      <GlobalStyle />\n      <Container className=\"App\">\n        <Logos />\n        {!hideIntro && <Intro />}\n        <Form onDownloadCompleted={setHideIntro} />\n      </Container>\n    </>\n  );\n}\n","import { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement,\n);\n"],"sourceRoot":""}